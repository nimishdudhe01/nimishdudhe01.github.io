---
layout: post
title: Avalanche Fundamentals —VM Customization Explained!
tag:
- web3
- vm-customization
- blockchain
- virtual-machine
- avalanche
---

<h4>Learning about the Avalanche Ecosystem — Part IV (Final Part) — VM Customization</h4><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*ht2WgGu5HHBGbWyUT6Ll9w.png" /></figure><h3>VM Customization</h3><ul><li>Slight variations of our virtual machines</li><li>Changing EVM on Ethereum =&gt; broad consensus =&gt; Difficult to Achieve</li><li>Customizing VMs in Avalanche is Straightforward</li></ul><p>For some use cases, It might be necessary to customize VM meeting the requirements of an application. This is the case if our application simply cannot be build by utilizing the regular EVM on the C-Chain.</p><p>Another reason would be if the execution of our smart contracts results in too high gas costs. to be economical for either it’s users or the creator. Depending on this requirement, different approaches for the customization maybe chosen.</p><p>Customizing the EVM running on the Ethereum network is a difficult process. It requires a wide consensus agreeing that the proposed change is mutually beneficial for all network participants. This can make customization for unique use cases challenging, if not impossible. Furthermore, it is not possible to add different chains with different features to Ethereum network.</p><p>In Avalanche every subnet has autonomy over their VM. This means that the creators can customize VMs that solve their unique requirements. This is one of the biggest advantages of multi-chain systems.</p><figure><img alt="" src="https://cdn-images-1.medium.com/max/919/1*Kr4lbfTV1HI0cFZ8g-SqJg.png" /><figcaption>Differences in Types of VM Customizations</figcaption></figure><h4>VM Configuration</h4><ul><li>VM behavior can be changed with parameters</li><li>In One-Chain-Fits-All systems, these parameters are a compromise</li><li>No coding required</li></ul><figure><img alt="" src="https://cdn-images-1.medium.com/max/919/1*ipJ2Jc_aN3ZUE_B0y1PXPA.png" /></figure><p>When building a VM, it is possible to define certain parameters that can change the behavior of the VM. In our soda machine analogy, These maybe the prices of the products. We might want to have two machine blockchains which offer different products. If the VM is build in a way that it has these parameters for the product of prices, It can be easily used for different items. This is a massive advantage over One-Chain-Fits-All systems where the parameters have to compromised between all network participants.</p><p>In Avalanche, It is possible to have different blockchains but same VM but with different parameters. Using VM configuration, we can easily create some other types of special purpose VMs. EVM chains for different use cases such as trading an cheap NFT or valuable real estate on the chain. These chains will have different fees, We wanna have cheap fees for cheap NFTs because they’re only worth a couple dollars, But we’re totally fine for high fees for valuable goods such as Real Estate. With this we can give completely different security levels.</p><h4>VM Modification</h4><ul><li>Modifying or extending existing VM</li><li>Subnet-EVM can be customized using plugins or precompiles</li></ul><figure><img alt="" src="https://cdn-images-1.medium.com/max/919/1*cMwygc3ycwiWt5JiG7ps3Q.png" /></figure><p>We can meet our requirements by modifying and extending our VM that already exists. So in the soda machine analogy, we might need to customize our soda machine to accept card payments. Our current soda machine doesn’t have this feature so we can’t configure it.</p><p>Instead of completely reinventing the wheel making a soda machine from the ground up, we can simply extend the VM using a plugin. In Avalanche, creating modified VMs in straightforward. The Subnet-EVM can be customized using the plugins as well as precomiles.</p><h4>VM Creation</h4><ul><li>Requirements are Very Different</li><li>Most complex, but most powerful</li></ul><p>Two design patterns:</p><ol><li>Special Purpose VMs</li><li>General Purpose VMs</li></ol><p>The most powerful way is to create a new VM. For some cases this might be necessary. In our analogy, this might be the case if we required completely different features. Suppose we need a Car VM, There’s simply no way we can customize our Soda Machine that it operates as a Car. Instead we have to build a new VM from ground up.</p><p>These newly created VMs can be used for much much specialized use cases and therefore it enables completely new blockchains applications never possible before. Obviously VM creation is by far the most complex way but also the most powerful way to customize a VM, It requires a deep understanding of the blockchain space and software development skills.</p><p>There might be certain most basic elements in VMs such as the notion of Transactions, Accounts, Authentication and therefore Avalanche provides some SDKs. Such as the HyperSDK to make the creation of the VMs in languages like Go and Rust easier.</p><p>When creating a VM, there are two very distinct design patterns . The first one is Special Purpose VMs and the other one is General Purpose VMs.</p><h4>Special Purpose VMs</h4><ul><li>Highly optimized for a specific use case</li><li>Limited set of operations</li><li>Ex: VM of the Bitcoin Blockchain</li></ul><p>Special purpose VMs are highly optimized for specific usecase. They only allow limited set of operations closely enough to its use cases. Like in the VM of the Bitcoin blockchain, the operations are much more limited than Ethereum VM. Hence it only allows transactions related to transfers of Bitcoin.</p><p><strong>Some other types of special purpose VMs:</strong></p><pre><br>+---------+------------------------+-------------------------+<br>|  Chain  |        Purpose         |    Typical Operation    |<br>+---------+------------------------+-------------------------+<br>| Bitcoin | Value Transfer         | Send BTC                |<br>| P-Chain | Registry of Validators | Add validator to Subnet |<br>| X-Chain |                        | Transfer funds          |<br>+---------+------------------------+-------------------------+</pre><h4>General Purpose VMs</h4><ul><li>Smart Contracts of Programs</li><li>Allows it’s users to introduce their own logic to the VM</li><li>Most common: EVM</li></ul><figure><img alt="" src="https://cdn-images-1.medium.com/max/771/1*JjM_kkOCykbe8KTQ2ET0Ng.png" /></figure><p>General purpose VMs introduce another layer, Also known as Smart Contract Layer or Program Layer. This can be submitted to the VM and enable users of the chain to interact with these. So this way it allows it’s users to introduce their own logic to the VM.</p><blockquote>References: <a href="https://academy.avax.network/start">Avalanche Academy</a> and <a href="https://www.google.com">Google</a></blockquote><img src="https://medium.com/_/stat?event=post.clientViewed&referrerSource=full_rss&postId=ee4875324d13" width="1" height="1" alt=""><hr><p><a href="https://medium.com/coinmonks/avalanche-fundamentals-vm-customization-explained-ee4875324d13">Avalanche Fundamentals —VM Customization Explained!</a> was originally published in <a href="https://medium.com/coinmonks">Coinmonks</a> on Medium, where people are continuing the conversation by highlighting and responding to this story.</p>
